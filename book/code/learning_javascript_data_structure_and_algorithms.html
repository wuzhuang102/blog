<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习JavaScript数据结构与算法 | 你当像鸟飞往你的山</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/avatar.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.2464540b.css" as="style"><link rel="preload" href="/assets/js/app.52282d9c.js" as="script"><link rel="preload" href="/assets/js/2.b2576fa9.js" as="script"><link rel="preload" href="/assets/js/20.4eab5b4b.js" as="script"><link rel="prefetch" href="/assets/js/10.0be33358.js"><link rel="prefetch" href="/assets/js/100.716ebdc8.js"><link rel="prefetch" href="/assets/js/101.58e245f4.js"><link rel="prefetch" href="/assets/js/102.6d030de1.js"><link rel="prefetch" href="/assets/js/103.9f505b69.js"><link rel="prefetch" href="/assets/js/104.36a96edc.js"><link rel="prefetch" href="/assets/js/105.12e8a7b4.js"><link rel="prefetch" href="/assets/js/106.0c84fec3.js"><link rel="prefetch" href="/assets/js/107.dd8cc792.js"><link rel="prefetch" href="/assets/js/108.7323b4b2.js"><link rel="prefetch" href="/assets/js/109.96f90cf3.js"><link rel="prefetch" href="/assets/js/11.9a521f7e.js"><link rel="prefetch" href="/assets/js/110.139fc8a3.js"><link rel="prefetch" href="/assets/js/111.72b6e215.js"><link rel="prefetch" href="/assets/js/112.3e4783dd.js"><link rel="prefetch" href="/assets/js/113.cb5580ff.js"><link rel="prefetch" href="/assets/js/114.1fdeaea5.js"><link rel="prefetch" href="/assets/js/115.6030aed1.js"><link rel="prefetch" href="/assets/js/116.16d6c0b6.js"><link rel="prefetch" href="/assets/js/117.111259b4.js"><link rel="prefetch" href="/assets/js/118.62ff8a4a.js"><link rel="prefetch" href="/assets/js/119.cfcc05c7.js"><link rel="prefetch" href="/assets/js/12.f372d0c6.js"><link rel="prefetch" href="/assets/js/120.b5e9efe6.js"><link rel="prefetch" href="/assets/js/121.c06b5975.js"><link rel="prefetch" href="/assets/js/122.2fdcaf63.js"><link rel="prefetch" href="/assets/js/123.67a72bd2.js"><link rel="prefetch" href="/assets/js/124.852cf569.js"><link rel="prefetch" href="/assets/js/125.a504f556.js"><link rel="prefetch" href="/assets/js/126.8debc763.js"><link rel="prefetch" href="/assets/js/127.1f3ac6f8.js"><link rel="prefetch" href="/assets/js/128.c58d7f07.js"><link rel="prefetch" href="/assets/js/129.007dd18d.js"><link rel="prefetch" href="/assets/js/13.8471e0ab.js"><link rel="prefetch" href="/assets/js/130.820639be.js"><link rel="prefetch" href="/assets/js/131.ef9f9a27.js"><link rel="prefetch" href="/assets/js/132.9375a12d.js"><link rel="prefetch" href="/assets/js/133.65b1660f.js"><link rel="prefetch" href="/assets/js/134.68277f88.js"><link rel="prefetch" href="/assets/js/135.3a417fc0.js"><link rel="prefetch" href="/assets/js/136.ad3d0bf5.js"><link rel="prefetch" href="/assets/js/137.98c1cf0c.js"><link rel="prefetch" href="/assets/js/138.0bdf95bb.js"><link rel="prefetch" href="/assets/js/139.ce6661e8.js"><link rel="prefetch" href="/assets/js/14.6b88d35a.js"><link rel="prefetch" href="/assets/js/140.f09d07e2.js"><link rel="prefetch" href="/assets/js/141.083920e3.js"><link rel="prefetch" href="/assets/js/142.80ec6b60.js"><link rel="prefetch" href="/assets/js/143.4f6fd155.js"><link rel="prefetch" href="/assets/js/144.70ebb78b.js"><link rel="prefetch" href="/assets/js/145.87d82f0e.js"><link rel="prefetch" href="/assets/js/146.501a8306.js"><link rel="prefetch" href="/assets/js/147.c7ca19a7.js"><link rel="prefetch" href="/assets/js/148.f11992a1.js"><link rel="prefetch" href="/assets/js/149.90711701.js"><link rel="prefetch" href="/assets/js/15.bbf26fd6.js"><link rel="prefetch" href="/assets/js/150.0fe91c80.js"><link rel="prefetch" href="/assets/js/151.eba738f9.js"><link rel="prefetch" href="/assets/js/152.ed08d6e0.js"><link rel="prefetch" href="/assets/js/153.57e98815.js"><link rel="prefetch" href="/assets/js/154.6ed7b2b2.js"><link rel="prefetch" href="/assets/js/155.c4f48247.js"><link rel="prefetch" href="/assets/js/156.5bbe6c7f.js"><link rel="prefetch" href="/assets/js/157.c6343f69.js"><link rel="prefetch" href="/assets/js/158.58967568.js"><link rel="prefetch" href="/assets/js/159.efda2d6a.js"><link rel="prefetch" href="/assets/js/16.c07ff42a.js"><link rel="prefetch" href="/assets/js/160.ced00468.js"><link rel="prefetch" href="/assets/js/161.f4cccfbe.js"><link rel="prefetch" href="/assets/js/162.9115d694.js"><link rel="prefetch" href="/assets/js/163.bac22cf3.js"><link rel="prefetch" href="/assets/js/164.26c7de09.js"><link rel="prefetch" href="/assets/js/165.4581cbc1.js"><link rel="prefetch" href="/assets/js/166.42062541.js"><link rel="prefetch" href="/assets/js/167.7c752121.js"><link rel="prefetch" href="/assets/js/168.ec10a223.js"><link rel="prefetch" href="/assets/js/169.1e71713e.js"><link rel="prefetch" href="/assets/js/17.6b1aaf25.js"><link rel="prefetch" href="/assets/js/170.8674d04e.js"><link rel="prefetch" href="/assets/js/171.659ddd64.js"><link rel="prefetch" href="/assets/js/172.fc927677.js"><link rel="prefetch" href="/assets/js/173.effa59d0.js"><link rel="prefetch" href="/assets/js/18.6a53e8bd.js"><link rel="prefetch" href="/assets/js/19.070948a0.js"><link rel="prefetch" href="/assets/js/21.875ef651.js"><link rel="prefetch" href="/assets/js/22.3016600a.js"><link rel="prefetch" href="/assets/js/23.2bceca16.js"><link rel="prefetch" href="/assets/js/24.5ca1a949.js"><link rel="prefetch" href="/assets/js/25.7128f5f5.js"><link rel="prefetch" href="/assets/js/26.2bab6302.js"><link rel="prefetch" href="/assets/js/27.63ee87cc.js"><link rel="prefetch" href="/assets/js/28.0f585b16.js"><link rel="prefetch" href="/assets/js/29.9b1a6733.js"><link rel="prefetch" href="/assets/js/3.cf3e2a61.js"><link rel="prefetch" href="/assets/js/30.0d7f9099.js"><link rel="prefetch" href="/assets/js/31.935ab8aa.js"><link rel="prefetch" href="/assets/js/32.a1046d11.js"><link rel="prefetch" href="/assets/js/33.ca4a9ecf.js"><link rel="prefetch" href="/assets/js/34.fffbe11c.js"><link rel="prefetch" href="/assets/js/35.457e82c7.js"><link rel="prefetch" href="/assets/js/36.ef0a87d5.js"><link rel="prefetch" href="/assets/js/37.1cbbc372.js"><link rel="prefetch" href="/assets/js/38.7e33d6f3.js"><link rel="prefetch" href="/assets/js/39.6904d709.js"><link rel="prefetch" href="/assets/js/4.612c2b09.js"><link rel="prefetch" href="/assets/js/40.c6325732.js"><link rel="prefetch" href="/assets/js/41.b56dca91.js"><link rel="prefetch" href="/assets/js/42.b51db9ce.js"><link rel="prefetch" href="/assets/js/43.8a53c7ca.js"><link rel="prefetch" href="/assets/js/44.f495304f.js"><link rel="prefetch" href="/assets/js/45.4ebd10b5.js"><link rel="prefetch" href="/assets/js/46.5f62cc4b.js"><link rel="prefetch" href="/assets/js/47.578287ae.js"><link rel="prefetch" href="/assets/js/48.a70765fd.js"><link rel="prefetch" href="/assets/js/49.9eb21dfb.js"><link rel="prefetch" href="/assets/js/5.c1b1c539.js"><link rel="prefetch" href="/assets/js/50.69028fff.js"><link rel="prefetch" href="/assets/js/51.2231d361.js"><link rel="prefetch" href="/assets/js/52.aee41e86.js"><link rel="prefetch" href="/assets/js/53.869c8d27.js"><link rel="prefetch" href="/assets/js/54.a63e70db.js"><link rel="prefetch" href="/assets/js/55.91e3e20a.js"><link rel="prefetch" href="/assets/js/56.43b2de29.js"><link rel="prefetch" href="/assets/js/57.b64f6ec9.js"><link rel="prefetch" href="/assets/js/58.77d56ca3.js"><link rel="prefetch" href="/assets/js/59.3d69886d.js"><link rel="prefetch" href="/assets/js/6.22dc9a23.js"><link rel="prefetch" href="/assets/js/60.d083cc6a.js"><link rel="prefetch" href="/assets/js/61.6fa3b2c2.js"><link rel="prefetch" href="/assets/js/62.69bb327e.js"><link rel="prefetch" href="/assets/js/63.24b7de60.js"><link rel="prefetch" href="/assets/js/64.1864f6c1.js"><link rel="prefetch" href="/assets/js/65.e379a5a4.js"><link rel="prefetch" href="/assets/js/66.7d214662.js"><link rel="prefetch" href="/assets/js/67.6032cb0e.js"><link rel="prefetch" href="/assets/js/68.8750df23.js"><link rel="prefetch" href="/assets/js/69.e95607f5.js"><link rel="prefetch" href="/assets/js/7.6ba5400f.js"><link rel="prefetch" href="/assets/js/70.cab3055c.js"><link rel="prefetch" href="/assets/js/71.0c74e7b5.js"><link rel="prefetch" href="/assets/js/72.6e65ef8b.js"><link rel="prefetch" href="/assets/js/73.11090e3d.js"><link rel="prefetch" href="/assets/js/74.8e491969.js"><link rel="prefetch" href="/assets/js/75.7a950686.js"><link rel="prefetch" href="/assets/js/76.0a93f202.js"><link rel="prefetch" href="/assets/js/77.d266642a.js"><link rel="prefetch" href="/assets/js/78.5d0939c8.js"><link rel="prefetch" href="/assets/js/79.773a6b91.js"><link rel="prefetch" href="/assets/js/8.59a26cd5.js"><link rel="prefetch" href="/assets/js/80.1f7745ae.js"><link rel="prefetch" href="/assets/js/81.042df0fe.js"><link rel="prefetch" href="/assets/js/82.98d41715.js"><link rel="prefetch" href="/assets/js/83.cd9dc09e.js"><link rel="prefetch" href="/assets/js/84.801d68d1.js"><link rel="prefetch" href="/assets/js/85.f7ba5a83.js"><link rel="prefetch" href="/assets/js/86.0623bd6d.js"><link rel="prefetch" href="/assets/js/87.255eb8d0.js"><link rel="prefetch" href="/assets/js/88.002727e3.js"><link rel="prefetch" href="/assets/js/89.e403f424.js"><link rel="prefetch" href="/assets/js/9.ad368501.js"><link rel="prefetch" href="/assets/js/90.d7922422.js"><link rel="prefetch" href="/assets/js/91.52d787e9.js"><link rel="prefetch" href="/assets/js/92.d82baf83.js"><link rel="prefetch" href="/assets/js/93.067df34d.js"><link rel="prefetch" href="/assets/js/94.4821f9a9.js"><link rel="prefetch" href="/assets/js/95.f21786f2.js"><link rel="prefetch" href="/assets/js/96.d10c4ddd.js"><link rel="prefetch" href="/assets/js/97.14aa246f.js"><link rel="prefetch" href="/assets/js/98.cdf8969c.js"><link rel="prefetch" href="/assets/js/99.ed247395.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2464540b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">你当像鸟飞往你的山</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link">
  我的wiki
</a></div><div class="nav-item"><a href="/tool/" class="nav-link">
  技术扩展
</a></div><div class="nav-item"><a href="/book/" class="nav-link router-link-active">
  阅读
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link">
  我的wiki
</a></div><div class="nav-item"><a href="/tool/" class="nav-link">
  技术扩展
</a></div><div class="nav-item"><a href="/book/" class="nav-link router-link-active">
  阅读
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>技术类</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/code/you_dont_know_javascript_1.html" class="sidebar-link">你不知道的JavaScript(上)</a></li><li><a href="/book/code/you_dont_know_javascript_2.html" class="sidebar-link">你不知道的JavaScript(中)</a></li><li><a href="/book/code/you_dont_know_javascript_3.html" class="sidebar-link">你不知道的JavaScript(下)</a></li><li><a href="/book/code/learning_javascript_data_structure_and_algorithms.html" class="active sidebar-link">学习JavaScript数据结构与算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_1-javascript简介" class="sidebar-link">1. JavaScript简介</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_2-ecmascript和typescript概述" class="sidebar-link">2. ECMAScript和TypeScript概述</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-数组" class="sidebar-link">3. 数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-1-为什么用数组" class="sidebar-link">3.1 为什么用数组</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-2-创建和初始化数组" class="sidebar-link">3.2 创建和初始化数组</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-3-添加元素" class="sidebar-link">3.3 添加元素</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-4-删除元素" class="sidebar-link">3.4 删除元素</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-5-在任意位置添加或删除元素" class="sidebar-link">3.5 在任意位置添加或删除元素</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-6-二维和多维数组" class="sidebar-link">3.6 二维和多维数组</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-7-javascript数组方法参考" class="sidebar-link">3.7 JavaScript数组方法参考</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-8-类型数组" class="sidebar-link">3.8 类型数组</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_3-9-typescript中的数组" class="sidebar-link">3.9 TypeScript中的数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_4-栈" class="sidebar-link">4. 栈</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_4-2-栈数据结构" class="sidebar-link">4.2 栈数据结构</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_4-3-创建一个基于javascript对象的stack类" class="sidebar-link">4.3 创建一个基于JavaScript对象的Stack类</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_4-4-保护数据结构内部元素" class="sidebar-link">4.4 保护数据结构内部元素</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_4-5-用栈解决问题" class="sidebar-link">4.5 用栈解决问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_5-队列和双端队列" class="sidebar-link">5. 队列和双端队列</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_5-1-队列数据结构" class="sidebar-link">5.1 队列数据结构</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_5-2-双端数据队列" class="sidebar-link">5.2 双端数据队列</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_5-3-使用队列和双端队列来解决问题" class="sidebar-link">5.3 使用队列和双端队列来解决问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-链表" class="sidebar-link">6. 链表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-1-链表" class="sidebar-link">6.1 链表</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-2-双向链表" class="sidebar-link">6.2 双向链表</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-3-循环链表" class="sidebar-link">6.3 循环链表</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-4-有序链表" class="sidebar-link">6.4 有序链表</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_6-5-stacklinkedlist" class="sidebar-link">6.5 StackLinkedList</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_7-集合" class="sidebar-link">7. 集合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_7-1-构建数据集合" class="sidebar-link">7.1 构建数据集合</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_7-2-创建集合类" class="sidebar-link">7.2 创建集合类</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_7-3-集合的运算" class="sidebar-link">7.3 集合的运算</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_7-4-ecmascript-2015-set类" class="sidebar-link">7.4 ECMAScript 2015 --- Set类</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_8-字典和散列表" class="sidebar-link">8 字典和散列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_8-1-字典" class="sidebar-link">8.1 字典</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_8-2-散列表" class="sidebar-link">8.2 散列表</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_8-3-es2015-map类" class="sidebar-link">8.3 ES2015 Map类</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_8-4-weakmap-与-weakset" class="sidebar-link">8.4 WeakMap 与 WeakSet</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_9-递归" class="sidebar-link">9. 递归</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_9-1-理解递归" class="sidebar-link">9.1 理解递归</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_9-2-计算一个阶乘" class="sidebar-link">9.2 计算一个阶乘</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_9-3-斐波那契数列" class="sidebar-link">9.3 斐波那契数列</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_9-4-为什么使用递归" class="sidebar-link">9.4 为什么使用递归</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_10-树" class="sidebar-link">10. 树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_10-2-树的相关术语" class="sidebar-link">10.2 树的相关术语</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_10-3-二叉树和二叉搜索树" class="sidebar-link">10.3 二叉树和二叉搜索树</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_10-4-树的遍历" class="sidebar-link">10.4 树的遍历</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_11-二叉堆和堆排序" class="sidebar-link">11. 二叉堆和堆排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_11-1-二叉堆数据结构" class="sidebar-link">11.1 二叉堆数据结构</a></li><li class="sidebar-sub-header"><a href="/book/code/learning_javascript_data_structure_and_algorithms.html#_11-2-堆排序算法" class="sidebar-link">11.2 堆排序算法</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="学习javascript数据结构与算法"><a href="#学习javascript数据结构与算法" class="header-anchor">#</a> 学习JavaScript数据结构与算法</h1> <h2 id="_1-javascript简介"><a href="#_1-javascript简介" class="header-anchor">#</a> 1. JavaScript简介</h2> <h2 id="_2-ecmascript和typescript概述"><a href="#_2-ecmascript和typescript概述" class="header-anchor">#</a> 2. ECMAScript和TypeScript概述</h2> <h2 id="_3-数组"><a href="#_3-数组" class="header-anchor">#</a> 3. 数组</h2> <h3 id="_3-1-为什么用数组"><a href="#_3-1-为什么用数组" class="header-anchor">#</a> 3.1 为什么用数组</h3> <p>用数组来存储连续性数据</p> <h3 id="_3-2-创建和初始化数组"><a href="#_3-2-创建和初始化数组" class="header-anchor">#</a> 3.2 创建和初始化数组</h3> <h3 id="_3-3-添加元素"><a href="#_3-3-添加元素" class="header-anchor">#</a> 3.3 添加元素</h3> <h4 id="_3-3-1-数组末尾添加元素"><a href="#_3-3-1-数组末尾添加元素" class="header-anchor">#</a> 3.3.1 数组末尾添加元素</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 直接添加 或者 push</span>
numbers<span class="token punctuation">[</span>numbers<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span>
numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-3-2-数组开头插入元素"><a href="#_3-3-2-数组开头插入元素" class="header-anchor">#</a> 3.3.2 数组开头插入元素</h4> <p>所有元素后移一位，开头插入数组</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span>protorype<span class="token punctuation">.</span><span class="token function-variable function">insertFirstPosition</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> value
<span class="token punctuation">}</span>
</code></pre></div><p>或者使用unshift,它的行为与insertFirstPosition方法行为是一样的。</p> <h3 id="_3-4-删除元素"><a href="#_3-4-删除元素" class="header-anchor">#</a> 3.4 删除元素</h3> <h4 id="_3-4-1-从数组末尾删除元素"><a href="#_3-4-1-从数组末尾删除元素" class="header-anchor">#</a> 3.4.1 从数组末尾删除元素</h4> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-4-2-从数组开头删除一个元素"><a href="#_3-4-2-从数组开头删除一个元素" class="header-anchor">#</a> 3.4.2 从数组开头删除一个元素</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 复制一个新数组</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reIndex</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            newArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newArray<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 删除第一个元素</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">removeFirstPosition</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>Array.prototype.shift</code> 也能实现</p> <h3 id="_3-5-在任意位置添加或删除元素"><a href="#_3-5-在任意位置添加或删除元素" class="header-anchor">#</a> 3.5 在任意位置添加或删除元素</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 删除从索引3开始的2个元素并插入2,3,4,5,6</span>
numbers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-6-二维和多维数组"><a href="#_3-6-二维和多维数组" class="header-anchor">#</a> 3.6 二维和多维数组</h3> <p>使用矩阵（二维数组）存储一些信息</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> averageTemp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    averageTemp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    averageTemp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">81</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-6-1-迭代二维数组元素"><a href="#_3-6-1-迭代二维数组元素" class="header-anchor">#</a> 3.6.1 迭代二维数组元素</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">printMatrix</span><span class="token punctuation">(</span><span class="token parameter">myMatrix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> myMatrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> myMatrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myMatrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-6-2-多维数组"><a href="#_3-6-2-多维数组" class="header-anchor">#</a> 3.6.2 多维数组</h4> <h3 id="_3-7-javascript数组方法参考"><a href="#_3-7-javascript数组方法参考" class="header-anchor">#</a> 3.7 JavaScript数组方法参考</h3> <table><thead><tr><th style="text-align:left;">方法</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">concat</td> <td style="text-align:left;">连接两个或更多数组，并返回结果</td></tr> <tr><td style="text-align:left;">every</td> <td style="text-align:left;">对数组的每个元素运行指定函数，每个元素都返回true才为true，遇见false循环终止</td></tr> <tr><td style="text-align:left;">filter</td> <td style="text-align:left;">对数组中每个元素运行指定函数，元素运行返回true的组成新的数组返回</td></tr> <tr><td style="text-align:left;">forEach</td> <td style="text-align:left;">对数组中每个元素运行指定函数，没有返回值</td></tr> <tr><td style="text-align:left;">join</td> <td style="text-align:left;">将所有数组连成一个字符串</td></tr> <tr><td style="text-align:left;">indexOf</td> <td style="text-align:left;">返回第一个与给定参数相等的数组元素的索引，没有则返回-1</td></tr> <tr><td style="text-align:left;">lastIndexOf</td> <td style="text-align:left;">返回最后一个与给定参数相等的数组元素索引，没有返回-1</td></tr> <tr><td style="text-align:left;">map</td> <td style="text-align:left;">对数组中每个元素运行指定函数，返回每次函数调用的结果组成新的函数</td></tr> <tr><td style="text-align:left;">reverse</td> <td style="text-align:left;">数组倒序</td></tr> <tr><td style="text-align:left;">slice</td> <td style="text-align:left;">传入索引值，从数组给定的索引范围内的元素作为新的数组返回</td></tr> <tr><td style="text-align:left;">some</td> <td style="text-align:left;">对数组中每个元素运行指定函数,如果有元素运行返回true，则返回true，反之返回false</td></tr> <tr><td style="text-align:left;">sort</td> <td style="text-align:left;">按照字符顺序进行数组排序，支持传入指定排序方法的函数作为参数</td></tr> <tr><td style="text-align:left;">toString</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">valueOf</td> <td style="text-align:left;"></td></tr></tbody></table> <h4 id="_3-7-1-数组合并"><a href="#_3-7-1-数组合并" class="header-anchor">#</a> 3.7.1 数组合并</h4> <p>Array.prototype.concat</p> <h4 id="_3-7-2-迭代器函数"><a href="#_3-7-2-迭代器函数" class="header-anchor">#</a> 3.7.2 迭代器函数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isEven</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_1-使用every迭代"><a href="#_1-使用every迭代" class="header-anchor">#</a> 1. 使用every迭代</h5> <p>这个例子中，第一个元素1不是偶数，返回false，循环终止</p> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>isEven<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2-some"><a href="#_2-some" class="header-anchor">#</a> 2. some</h5> <p>这个例子中，第二个元素2是偶数，返回true，循环终止</p> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>isEven<span class="token punctuation">)</span>
</code></pre></div><h5 id="_3-foreach"><a href="#_3-foreach" class="header-anchor">#</a> 3. forEach</h5> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre></div><h5 id="_4-map-和-filter"><a href="#_4-map-和-filter" class="header-anchor">#</a> 4. map 和 filter</h5> <p>map返回单个元素返回值的数组; filter 筛选所有返回true的值的数组</p> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>isEven<span class="token punctuation">)</span> <span class="token comment">// [false, true, false, true, false, true, false, true, false, true, false, true, false, true, false]</span>
numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>isEven<span class="token punctuation">)</span> <span class="token comment">// [2, 4, 6, 8, 10, 12, 14]</span>
</code></pre></div><h5 id="_5-reduce"><a href="#_5-reduce" class="header-anchor">#</a> 5. reduce</h5> <p>reduce接收四个参数 previousValue、currentValue、index和array</p> <div class="language-js extra-class"><pre class="language-js"><code>numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previous<span class="token punctuation">,</span>current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> previous <span class="token operator">+</span> current<span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-7-3-ecmascript6-和-数组新功能"><a href="#_3-7-3-ecmascript6-和-数组新功能" class="header-anchor">#</a> 3.7.3 ECMAScript6 和 数组新功能</h4> <table><thead><tr><th style="text-align:left;">方法</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">@@iterator</td> <td style="text-align:left;">返回一个包含数组键值对的迭代器对象，可以通过同步得到数组元素的键值对</td></tr> <tr><td style="text-align:left;">copyWithin</td> <td style="text-align:left;">复制数组中一系列元素到同一数组指定的起始位置</td></tr> <tr><td style="text-align:left;">entries</td> <td style="text-align:left;">返回包含所有键值对的@@iterator</td></tr> <tr><td style="text-align:left;">keys</td> <td style="text-align:left;">返回包含数组的所有索引的@@iterator</td></tr> <tr><td style="text-align:left;">values</td> <td style="text-align:left;">返回包含数组所有值的@@iterator</td></tr> <tr><td style="text-align:left;">includes</td> <td style="text-align:left;">检测存在某个元素则返回true,否则返回false(ES7)</td></tr> <tr><td style="text-align:left;">find</td> <td style="text-align:left;">根据回调给定的条件从数组中查找元素，如果找到则返回</td></tr> <tr><td style="text-align:left;">findIndex</td> <td style="text-align:left;">根据回调给定的条件查找数组元素，如果找到则返回该元素在数组中的索引</td></tr> <tr><td style="text-align:left;">fill</td> <td style="text-align:left;">静态值填充数组</td></tr> <tr><td style="text-align:left;">from</td> <td style="text-align:left;">根据已有数组创建一个新数组</td></tr> <tr><td style="text-align:left;">of</td> <td style="text-align:left;">根据传入的参数创建一个新数组</td></tr></tbody></table> <h5 id="_1-for-of"><a href="#_1-for-of" class="header-anchor">#</a> 1. for...of</h5> <p><code>for...of</code>方法是用来迭代@@iterator的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'even'</span><span class="token operator">:</span><span class="token string">'odd'</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_2-iterator对象"><a href="#_2-iterator对象" class="header-anchor">#</a> 2. @@iterator对象</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> iterator <span class="token operator">=</span> numbers<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: 1, done: false }</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: 2, done: false }</span>
<span class="token comment">// ...</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// { value: undefined, done: true }</span>
</code></pre></div><h5 id="_3-entries、keys、values"><a href="#_3-entries、keys、values" class="header-anchor">#</a> 3. entries、keys、values</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numEntries <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
numEntries<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { value: [0,1],done: false }</span>
numEntries<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { value: [1,2],done: false }</span>
<span class="token comment">// ...</span>
numEntries<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { value: undefined, done: true }</span>

<span class="token comment">// 或者</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> n <span class="token keyword">of</span> numEntries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> 
    <span class="token comment">// 第一项： [0,1]</span>
    <span class="token comment">// 第二项： [1,2]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_4-array-from"><a href="#_4-array-from" class="header-anchor">#</a> 4. Array.from</h5> <p>Array.from有两个参数，一个arr, 一个函数fn;arr是要复制的数组，fn是过滤函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> evens <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="_5-array-of"><a href="#_5-array-of" class="header-anchor">#</a> 5. Array.of</h5> <p>创建新数组</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span>
</code></pre></div><h5 id="_6-fill"><a href="#_6-fill" class="header-anchor">#</a> 6. fill</h5> <p>接受是三个参数： value, startIndex, endIndex</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token comment">// 单独执行结果</span>
numbers<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// [1,2,2,2,2,2,2]</span>
numbers<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3,1,1,6,7]</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 创建新数组默认值很好用</span>
</code></pre></div><h5 id="_7-copywithin"><a href="#_7-copywithin" class="header-anchor">#</a> 7. copyWithin</h5> <p>接受三个参数：insertIndex,copyStartIndex,copyEndIndex</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
numbres<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [4,5,6,4,5,6]</span>
numbers<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment">// [1,4,5,4,5,6]</span>
</code></pre></div><h4 id="_3-7-4-排序元素"><a href="#_3-7-4-排序元素" class="header-anchor">#</a> 3.7.4 排序元素</h4> <p>sort排序时，把元素默认成字符串排序</p> <h5 id="_1-自定义排序"><a href="#_1-自定义排序" class="header-anchor">#</a> 1. 自定义排序</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> friends <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Ana'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Chris'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">comparePerson</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
friends<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>comparePerson<span class="token punctuation">)</span>
</code></pre></div><h5 id="_2-字符串排序"><a href="#_2-字符串排序" class="header-anchor">#</a> 2. 字符串排序</h5> <p><strong>JavaScript 在做字 符比较的时候，是根据字符对应的 ASCII 值来比较的。</strong><a href="http://www.asciitable.com/" target="_blank" rel="noopener noreferrer">ASCII<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="_3-7-5-搜索"><a href="#_3-7-5-搜索" class="header-anchor">#</a> 3.7.5 搜索</h4> <h5 id="_1-find-与-findindex"><a href="#_1-find-与-findindex" class="header-anchor">#</a> 1. find 与 findIndex</h5> <p>find查找匹配的值，否则返回undefined <br>
findIndex查找匹配的索引，否则返回-1</p> <h5 id="_2-includes-es7"><a href="#_2-includes-es7" class="header-anchor">#</a> 2. includes(es7)</h5> <p>接受两个参数：includeValue, startIndex</p> <h4 id="_3-7-6-输出数组为字符串"><a href="#_3-7-6-输出数组为字符串" class="header-anchor">#</a> 3.7.6 输出数组为字符串</h4> <p>toString <br>
join</p> <h3 id="_3-8-类型数组"><a href="#_3-8-类型数组" class="header-anchor">#</a> 3.8 类型数组</h3> <p>类型数组用于存储单一类型的数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// TypeArray 是类型数组的代称，实际是以下其中之一</span>
<span class="token keyword">let</span> myArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypedArray</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th style="text-align:left;">类型数组</th> <th style="text-align:left;">数据类型</th></tr></thead> <tbody><tr><td style="text-align:left;">Int8Array</td> <td style="text-align:left;">8位二进制补码整数</td></tr> <tr><td style="text-align:left;">Unit8Array</td> <td style="text-align:left;">8位无符号整数</td></tr> <tr><td style="text-align:left;">Unit8ClampedArray</td> <td style="text-align:left;">8位无符号整数</td></tr> <tr><td style="text-align:left;">Int16Array</td> <td style="text-align:left;">16位二进制补码整数</td></tr> <tr><td style="text-align:left;">Unit16Array</td> <td style="text-align:left;">16位无符号整数</td></tr> <tr><td style="text-align:left;">Int32Array</td> <td style="text-align:left;">32位二进制补码整数</td></tr> <tr><td style="text-align:left;">Unit32Array</td> <td style="text-align:left;">32位无符号整数</td></tr> <tr><td style="text-align:left;">Float32Array</td> <td style="text-align:left;">32位IEEE浮点数</td></tr> <tr><td style="text-align:left;">Float64Array</td> <td style="text-align:left;">64位IEEE浮点数</td></tr></tbody></table> <p>使用 WebGL API、进行位操作、处理文件和图像时，类型数组都可以大展拳脚 <a href="https://www.html5rocks.com/en/tutorials/webgl/typed_arrays/" target="_blank" rel="noopener noreferrer">类型数组demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_3-9-typescript中的数组"><a href="#_3-9-typescript中的数组" class="header-anchor">#</a> 3.9 TypeScript中的数组</h3> <h2 id="_4-栈"><a href="#_4-栈" class="header-anchor">#</a> 4. 栈</h2> <h3 id="_4-2-栈数据结构"><a href="#_4-2-栈数据结构" class="header-anchor">#</a> 4.2 栈数据结构</h3> <p><strong>栈是一种后进先出（LIFO）原则的有序结构</strong>。新添加或待删除的元素都保存在栈的同一端，称作栈顶，另一端就叫栈底</p> <h4 id="_4-2-1-基于数组的栈"><a href="#_4-2-1-基于数组的栈" class="header-anchor">#</a> 4.2.1 基于数组的栈</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 添加一个或几个新元素到栈顶</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> 
 
    <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 移除栈顶的元素，同时返回被移除的与元素</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 返回栈顶元素，不做任何修改</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span> 
   
    <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 判断栈是否为空</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span> 

    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 移除栈里的所有元素</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span> 

    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 返回栈元素个数</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-3-创建一个基于javascript对象的stack类"><a href="#_4-3-创建一个基于javascript对象的stack类" class="header-anchor">#</a> 4.3 创建一个基于JavaScript对象的Stack类</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">]</span>
        <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">]</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">''</span> <span class="token punctuation">}</span>
        <span class="token keyword">let</span> objString <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span> i <span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            objString <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>objString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> objString<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-4-保护数据结构内部元素"><a href="#_4-4-保护数据结构内部元素" class="header-anchor">#</a> 4.4 保护数据结构内部元素</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {1} </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {2} </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {3}</span>
</code></pre></div><p>实例化的stack内部属性 <code>count</code> <code>items</code>可以被访问且被修改的，ES2015 类是基于原型的。尽管基于原型的类能节省内存空间并在扩展方面优于基于函数的类，但这种方式不能声明私有属性(变量)或 方法。<br>
我们需要使用JavaScript来实现私有属性。</p> <h4 id="_4-4-1-下划线命名约束"><a href="#_4-4-1-下划线命名约束" class="header-anchor">#</a> 4.4.1 下划线命名约束</h4> <p>下划线命名约定就是在属性名称之前加上一个下划线(_)。但只是一种约定，不能真正的保护数据。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-4-2-使用es6的限定作用域symbol实现类"><a href="#_4-4-2-使用es6的限定作用域symbol实现类" class="header-anchor">#</a> 4.4.2 使用ES6的限定作用域Symbol实现类</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> _items <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'stackItems'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {1}</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>_items<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// {2}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 栈的方法 </span>
<span class="token punctuation">}</span>
</code></pre></div><p>这种方法创建了一个假的私有属性，因为 ES2015 新增的 Object.getOwnPropertySymbols 方法能够取到类里面声明的所有 Symbols 属性。</p> <h4 id="_4-4-3-使用es2015的weakmap实现类"><a href="#_4-4-3-使用es2015的weakmap实现类" class="header-anchor">#</a> 4.4.3 使用ES2015的WeakMap实现类</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {1}</span>
<span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        items<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {2}</span>
    <span class="token punctuation">}</span>
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> s <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {3}</span>
        s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> s <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 其他方法 </span>
<span class="token punctuation">}</span>
</code></pre></div><p>代码可读性差、扩展是无法继承私有属性。</p> <h4 id="_4-4-4-scmascript类属性提案"><a href="#_4-4-4-scmascript类属性提案" class="header-anchor">#</a> 4.4.4 SCMAScript类属性提案</h4> <p>TypeScript提供了一个类属性和方法使用 private 修饰符，但只在编译时游泳</p> <h3 id="_4-5-用栈解决问题"><a href="#_4-5-用栈解决问题" class="header-anchor">#</a> 4.5 用栈解决问题</h3> <p>Java 和 C#用栈来存储变量和方 法调用，特别是处理递归算法时，有可能抛出一个栈溢出异常</p> <h4 id="从十进制到二进制"><a href="#从十进制到二进制" class="header-anchor">#</a> 从十进制到二进制</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">decimalToBinary</span><span class="token punctuation">(</span><span class="token parameter">decNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> remStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> decNumber<span class="token punctuation">,</span>
        rem<span class="token punctuation">,</span>
        binaryString <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        rem <span class="token operator">=</span> number <span class="token operator">%</span> <span class="token number">2</span>
        remStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>rem<span class="token punctuation">)</span>
        number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>number <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>remStack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        binaryString <span class="token operator">+=</span> remStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> binaryString<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="进制转换算法"><a href="#进制转换算法" class="header-anchor">#</a> 进制转换算法</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">baseConverter</span><span class="token punctuation">(</span><span class="token parameter">decNumber<span class="token punctuation">,</span> base</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> remStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> digits <span class="token operator">=</span> <span class="token string">'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span> <span class="token comment">// {6}</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> decNumber<span class="token punctuation">;</span>
    <span class="token keyword">let</span> rem<span class="token punctuation">;</span>
    <span class="token keyword">let</span> baseString <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>base <span class="token operator">&gt;=</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> base <span class="token operator">&lt;=</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        rem <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>number <span class="token operator">%</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        remStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>rem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>number <span class="token operator">/</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>remStack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        baseString <span class="token operator">+=</span> digits<span class="token punctuation">[</span>remStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// {7}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> baseString<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-队列和双端队列"><a href="#_5-队列和双端队列" class="header-anchor">#</a> 5. 队列和双端队列</h2> <h3 id="_5-1-队列数据结构"><a href="#_5-1-队列数据结构" class="header-anchor">#</a> 5.1 队列数据结构</h3> <p>队列遵循FIFO（先进先出）原则的一组有序的项</p> <h4 id="_5-1-1-创建队列"><a href="#_5-1-1-创建队列" class="header-anchor">#</a> 5.1.1 创建队列</h4> <p>声明队列基类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Queue</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// 队列大小</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// 队首元素</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>；
    <span class="token punctuation">}</span>

    <span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">undefined</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token punctuation">]</span>
        <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token punctuation">]</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token operator">++</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>

    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount
    <span class="token punctuation">}</span>

    <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>

    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>


    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> str
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-2-双端数据队列"><a href="#_5-2-双端数据队列" class="header-anchor">#</a> 5.2 双端数据队列</h3> <p>双端队列（deque, double-ended queue）是一种允许我们同时从前端和后端添加和移除元素的特殊队列</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Deque</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// isEmpty、clear、size、toString</span>
    <span class="token function">addFront</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// this.items[--this.lowestCount] = element</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addBack</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token operator">--</span><span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount<span class="token punctuation">]</span> <span class="token operator">=</span> element
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lowestCount <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> element
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">addBack</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">removeFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">removeBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">peekFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">peekBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-3-使用队列和双端队列来解决问题"><a href="#_5-3-使用队列和双端队列来解决问题" class="header-anchor">#</a> 5.3 使用队列和双端队列来解决问题</h3> <h4 id="_5-3-1-循环队列-击鼓传花游戏"><a href="#_5-3-1-循环队列-击鼓传花游戏" class="header-anchor">#</a> 5.3.1 循环队列 --- 击鼓传花游戏</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">hotPotato</span><span class="token punctuation">(</span><span class="token parameter">elementlist<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        elimitatedList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elementlist<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>elementlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        elimitatedList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        winner<span class="token operator">:</span> queue<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-2-回文检查器"><a href="#_5-3-2-回文检查器" class="header-anchor">#</a> 5.3.2 回文检查器</h4> <p>回文是正反都能读通的单词、词组、数或一系列字符串的序列</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 算法逻辑</span>
<span class="token comment">// 将字符串输入进入deque，然后拿removeFront 与 removeBack 比较，每次都相同就为回文</span>
<span class="token keyword">function</span> <span class="token function">plaindromeChecker</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>string <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> string <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deque</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        lowerString <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> isEqual <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> isEqual<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">removeFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> deque<span class="token punctuation">.</span><span class="token function">removeBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            isEqual <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> isEqual
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-3-javascript任务队列"><a href="#_5-3-3-javascript任务队列" class="header-anchor">#</a> 5.3.3 JavaScript任务队列</h4> <p>当我们在浏览器中打开新标签时，就会创建一个任务队列。这是因为每个标签都是单线程处 理所有的任务，称为事件循环</p> <h2 id="_6-链表"><a href="#_6-链表" class="header-anchor">#</a> 6. 链表</h2> <h3 id="_6-1-链表"><a href="#_6-1-链表" class="header-anchor">#</a> 6.1 链表</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">defaultEquals</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">===</span> b
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">LinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">equalsFn <span class="token operator">=</span> defaultEquals</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">undefined</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>equalsFn <span class="token operator">=</span> equalsFn
    <span class="token punctuation">}</span>

    <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token keyword">let</span> current<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                current <span class="token operator">=</span> current<span class="token punctuation">.</span>next
            <span class="token punctuation">}</span>
            current<span class="token punctuation">.</span>next <span class="token operator">=</span> node
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> head <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
                node<span class="token punctuation">.</span>next <span class="token operator">=</span> head
                <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> previous <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getElementAt</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
                node<span class="token punctuation">.</span>next <span class="token operator">=</span> previous<span class="token punctuation">.</span>next
                previous<span class="token punctuation">.</span>next <span class="token operator">=</span> node
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span> 
    <span class="token punctuation">}</span>

    <span class="token function">getElementAt</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                node <span class="token operator">=</span> node<span class="token punctuation">.</span>next
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> node
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">equalsFn</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span>current<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> i
            <span class="token punctuation">}</span>
            current <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span>

    <span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
            <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> current<span class="token punctuation">.</span>next
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> previous<span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    previous <span class="token operator">=</span> current
                    current <span class="token operator">=</span> current<span class="token punctuation">.</span>next
                <span class="token punctuation">}</span>
                previous<span class="token punctuation">.</span>next <span class="token operator">=</span> current<span class="token punctuation">.</span>next
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token punctuation">.</span>element
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>

    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count
    <span class="token punctuation">}</span>

    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">''</span> <span class="token punctuation">}</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>element<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>next
        <span class="token keyword">while</span><span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            obj <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>current<span class="token punctuation">.</span>element<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
            current <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> obj
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-2-双向链表"><a href="#_6-2-双向链表" class="header-anchor">#</a> 6.2 双向链表</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">DoublyNode</span> <span class="token keyword">extends</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> next<span class="token punctuation">,</span> prev</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> next<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prev <span class="token operator">=</span> prev
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DoublyLinkedList</span> <span class="token keyword">extends</span> <span class="token class-name">LinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">equalsFn <span class="token operator">=</span> defaultEquals</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>equalsFn<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token keyword">undefined</span>   <span class="token comment">// 与head相对，表示链尾元素</span>
    <span class="token punctuation">}</span>

    <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DoublyNode</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">,</span>
                current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
            <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>current <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
                    <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                    node<span class="token punctuation">.</span>next <span class="token operator">=</span> current
                    <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
                    current<span class="token punctuation">.</span>prev <span class="token operator">=</span> node
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">{</span>
                current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail
                current<span class="token punctuation">.</span>next <span class="token operator">=</span> node
                node<span class="token punctuation">.</span>prev <span class="token operator">=</span> current
                <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> previous <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getElementAt</span><span class="token punctuation">(</span>pos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                current <span class="token operator">=</span> previous<span class="token punctuation">.</span>next
                previous<span class="token punctuation">.</span>next <span class="token operator">=</span> node
                current<span class="token punctuation">.</span>prev <span class="token operator">=</span> node
                node<span class="token punctuation">.</span>prev <span class="token operator">=</span> previous
                node<span class="token punctuation">.</span>next <span class="token operator">=</span> current
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">pos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-3-循环链表"><a href="#_6-3-循环链表" class="header-anchor">#</a> 6.3 循环链表</h3> <p><strong>循环链表</strong>可以像链表一样只有单向引用，也可以像双向链表一样有双向引用</p> <p>循环链表和链表之间唯一的区别在于，最后一个元素指向下一个元素的指针(tail.next)不是引用undefined，而是指向第一个元素(head)，如下图所示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CircularLinkedList</span> <span class="token keyword">extends</span> <span class="token class-name">LinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">equalsFn <span class="token operator">=</span> defaultEquals</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>equalsFn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-4-有序链表"><a href="#_6-4-有序链表" class="header-anchor">#</a> 6.4 有序链表</h3> <p><strong>有序链表</strong>是指保持元素有序的链表结构。除了使用排序算法之外，我们还可以将元素插入到正确的位置来保证链表的有序性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Compare <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">LESS_THAN</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">BIGGER_THAN</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">defaultCompare</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> Compare<span class="token punctuation">.</span><span class="token constant">LESS_THAN</span> <span class="token operator">:</span> Compare<span class="token punctuation">.</span><span class="token constant">BIGGER_THAN</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SortedLinkedList</span> <span class="token keyword">extends</span> <span class="token class-name">LinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">equalsFn <span class="token operator">=</span> defaultEquals<span class="token punctuation">,</span> compareFn <span class="token operator">=</span> defaultCompare</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>equalsFn<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>compareFn <span class="token operator">=</span> compareFn
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-5-stacklinkedlist"><a href="#_6-5-stacklinkedlist" class="header-anchor">#</a> 6.5 StackLinkedList</h3> <p>我们还可以使用 LinkedList 类及其变种作为内部的数据结构来创建其他数据结构，例如栈、队列和双向队列</p> <h2 id="_7-集合"><a href="#_7-集合" class="header-anchor">#</a> 7. 集合</h2> <h3 id="_7-1-构建数据集合"><a href="#_7-1-构建数据集合" class="header-anchor">#</a> 7.1 构建数据集合</h3> <p>集合是一组无序且唯一的项组成的</p> <h3 id="_7-2-创建集合类"><a href="#_7-2-创建集合类" class="header-anchor">#</a> 7.2 创建集合类</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Set</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items
    <span class="token punctuation">}</span>

    <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>element<span class="token punctuation">]</span> <span class="token operator">=</span> element
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>element<span class="token punctuation">]</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">)</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>

    <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-3-集合的运算"><a href="#_7-3-集合的运算" class="header-anchor">#</a> 7.3 集合的运算</h3> <h4 id="_7-3-1-并集"><a href="#_7-3-1-并集" class="header-anchor">#</a> 7.3.1 并集</h4> <h4 id="_7-3-2-交集"><a href="#_7-3-2-交集" class="header-anchor">#</a> 7.3.2 交集</h4> <h4 id="_7-3-3-差集"><a href="#_7-3-3-差集" class="header-anchor">#</a> 7.3.3 差集</h4> <h4 id="_7-3-4-子集"><a href="#_7-3-4-子集" class="header-anchor">#</a> 7.3.4 子集</h4> <h3 id="_7-4-ecmascript-2015-set类"><a href="#_7-4-ecmascript-2015-set类" class="header-anchor">#</a> 7.4 ECMAScript 2015 --- Set类</h3> <p>ES2015 中的 Set类含有 add、has、values、delete 等方法</p> <p>ES2015 中含有一个size属性，它的 values 方法返回一个 Iterator</p> <h2 id="_8-字典和散列表"><a href="#_8-字典和散列表" class="header-anchor">#</a> 8 字典和散列表</h2> <h3 id="_8-1-字典"><a href="#_8-1-字典" class="header-anchor">#</a> 8.1 字典</h3> <p>集合以[值，值]的形式存储元素，字典以[键，值]的形式存储元素，字典也称作 映射、符号、关联数组</p> <p>字典对应 ES6 中的 Map</p> <h3 id="_8-2-散列表"><a href="#_8-2-散列表" class="header-anchor">#</a> 8.2 散列表</h3> <p>散列算法的作用是尽可能快地在数据结构中找到一个值：一般的，在数据结构中要获得一个值，需要迭代整个数据结构来找到它。如果使用散列函数（给定一个键值，然后返回值在表中的地址），就能知道值具体的位置，从而快速检索到该值。</p> <p>散列表与字典的区别在于用值的hash值当作key来存储</p> <h3 id="_8-3-es2015-map类"><a href="#_8-3-es2015-map类" class="header-anchor">#</a> 8.3 ES2015 Map类</h3> <p>ES2015 的 values 和 keys 方法都会返回 Iterator</p> <h3 id="_8-4-weakmap-与-weakset"><a href="#_8-4-weakmap-与-weakset" class="header-anchor">#</a> 8.4 WeakMap 与 WeakSet</h3> <ul><li>WeakMap 与 WeakSet 没有 entries、keys、values 等方法，它们是弱化的 Map 与 Set，主要是为了性能</li> <li>只能用对象作为键，使得 GC 可以从中清除整个入口</li></ul> <h2 id="_9-递归"><a href="#_9-递归" class="header-anchor">#</a> 9. 递归</h2> <h3 id="_9-1-理解递归"><a href="#_9-1-理解递归" class="header-anchor">#</a> 9.1 理解递归</h3> <p>递归是一种解决问题的方法，它从解决问题的各个小部分开始，直到解决最初的大问题，递归通常涉及函数的自身调用</p> <h3 id="_9-2-计算一个阶乘"><a href="#_9-2-计算一个阶乘" class="header-anchor">#</a> 9.2 计算一个阶乘</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factorialInterative</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>number <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> number <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorialInterative</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-调用栈"><a href="#_1-调用栈" class="header-anchor">#</a> 1. 调用栈</h4> <p>每当 一个函数被一个算法调用时，该函数会进入调用栈的顶部。当使用递归的时候，每个函数调用都 会堆叠在调用栈的顶部，这是因为每个调用都可能依赖前一个调用的结果。</p> <h4 id="_2-javascript-调用栈大小的限制"><a href="#_2-javascript-调用栈大小的限制" class="header-anchor">#</a> 2. JavaScript 调用栈大小的限制</h4> <p>以下代码可以检测浏览器最大调用栈</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token keyword">function</span> <span class="token function">recursiveFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token function">recursiveFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token function">recursiveFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i = '</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">' error: '</span> <span class="token operator">+</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ES2015 有<strong>尾调用优化</strong>，如果函数内的最后一个操作是调用函数，会通过跳转指令而不是子程序调用</p> <h3 id="_9-3-斐波那契数列"><a href="#_9-3-斐波那契数列" class="header-anchor">#</a> 9.3 斐波那契数列</h3> <h4 id="_9-3-1-迭代"><a href="#_9-3-1-迭代" class="header-anchor">#</a> 9.3.1 迭代</h4> <ul><li>位置 0 的斐波那契数是零。</li> <li>1和 2的斐波那契数是 1。</li> <li>n(此处 n &gt; 2)的斐波那契数是(n - 1)的斐波那契数加上(n - 2)的斐波那契数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9-3-2-记忆"><a href="#_9-3-2-记忆" class="header-anchor">#</a> 9.3.2 记忆</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>memory <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>memory<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        memory<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>memory<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacciIterative</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> memory<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> memory<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-4-为什么使用递归"><a href="#_9-4-为什么使用递归" class="header-anchor">#</a> 9.4 为什么使用递归</h3> <p>迭代 的版本要比 递归 的版本快很多，但是递归版本更容易理解，需要的代码通常更少。另外，对一些算法来说，迭代的解法可能不可用， 3 而且有了尾调用优化，递归的多余消耗甚至可能被消除。</p> <h2 id="_10-树"><a href="#_10-树" class="header-anchor">#</a> 10. 树</h2> <h3 id="_10-2-树的相关术语"><a href="#_10-2-树的相关术语" class="header-anchor">#</a> 10.2 树的相关术语</h3> <ul><li>位于树顶部的节点叫作<strong>根节点</strong></li> <li>节点的一个属性是<strong>深度</strong>，节点的深度取决于它的祖先节点的数量</li> <li><strong>子树</strong>由节点和它的后代构成</li> <li>树的高度取决于所有节点深度的最大值</li></ul> <h3 id="_10-3-二叉树和二叉搜索树"><a href="#_10-3-二叉树和二叉搜索树" class="header-anchor">#</a> 10.3 二叉树和二叉搜索树</h3> <ul><li><strong>二叉树</strong>中的节点最多只能有两个子节点</li> <li>**二叉搜索树(BST)**允许你在左侧节点存储比父节点小的值，右节点存储比父节点大的值</li></ul> <h4 id="_10-3-1-创建-binarysearchtree-类"><a href="#_10-3-1-创建-binarysearchtree-类" class="header-anchor">#</a> 10.3.1 创建 BinarySearchTree 类</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
        <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> left <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> left
        <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> right <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> right
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-4-树的遍历"><a href="#_10-4-树的遍历" class="header-anchor">#</a> 10.4 树的遍历</h3> <p>遍历一颗树是指访问树的每个节点并对它们进行某种操作的过程</p> <h4 id="_10-4-1-中序遍历"><a href="#_10-4-1-中序遍历" class="header-anchor">#</a> 10.4.1 中序遍历</h4> <h4 id="_10-4-2-先序遍历"><a href="#_10-4-2-先序遍历" class="header-anchor">#</a> 10.4.2 先序遍历</h4> <h4 id="_10-4-3-后序遍历"><a href="#_10-4-3-后序遍历" class="header-anchor">#</a> 10.4.3 后序遍历</h4> <h2 id="_11-二叉堆和堆排序"><a href="#_11-二叉堆和堆排序" class="header-anchor">#</a> 11. 二叉堆和堆排序</h2> <h3 id="_11-1-二叉堆数据结构"><a href="#_11-1-二叉堆数据结构" class="header-anchor">#</a> 11.1 二叉堆数据结构</h3> <p>二叉堆是一种特殊的二叉树</p> <ul><li>是一颗完全二叉树，表示树的每一层都有左侧和右侧子节点（除最后一层的叶节点），并且最后一层的叶节点尽可能都是左侧子节点</li> <li>二叉堆不是最小堆就是最大堆。最小堆允许你快速导出树的最小值，最大堆允许你快速导出树的最大值。</li></ul> <h4 id="_11-1-1-创建最小堆类"><a href="#_11-1-1-创建最小堆类" class="header-anchor">#</a> 11.1.1 创建最小堆类</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Compare <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">LESS_THAN</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">BIGGER_THAN</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">defaultCompare</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> Compare<span class="token punctuation">.</span><span class="token constant">LESS_THAN</span> <span class="token operator">:</span> Compare<span class="token punctuation">.</span><span class="token constant">BIGGER_THAN</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MinHeap</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">compareFn <span class="token operator">=</span> defaultCompare</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>compareFn <span class="token operator">=</span> compareFn
        <span class="token keyword">this</span><span class="token punctuation">.</span>heap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token function">getLeftIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>

    <span class="token function">getRightIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>

    <span class="token function">getParentIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">undefined</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>index <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">siftUp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 移除堆顶元素</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">undefined</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> removeValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">siftDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> removeValue
    <span class="token punctuation">}</span>

    <span class="token function">siftUp</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 数据上移：将值和它的父节点进行交换，直到父节点小于这个插入的值</span>
        <span class="token keyword">let</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compareFn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> Compare<span class="token punctuation">.</span><span class="token constant">BIGGER_THAN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
            index <span class="token operator">=</span> parent
            parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">siftDown</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 数据下移：与子节点比较，比子节点大就下移</span>
        <span class="token keyword">let</span> element <span class="token operator">=</span> index
        <span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
        <span class="token keyword">const</span> right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRightIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
        <span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> size <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compareFn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>element<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> Compare<span class="token punctuation">.</span><span class="token constant">BIGGER_THAN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            element <span class="token operator">=</span> left
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> size <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compareFn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>element<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&gt;</span> Compare<span class="token punctuation">.</span><span class="token constant">BIGGER_THAN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            element <span class="token operator">=</span> right
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">,</span> element<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">siftDown</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// 数组两个值交换</span>
<span class="token keyword">function</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> temp <span class="token operator">=</span> array<span class="token punctuation">[</span>a<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>b<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> temp
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_11-2-堆排序算法"><a href="#_11-2-堆排序算法" class="header-anchor">#</a> 11.2 堆排序算法</h3> <ul><li>用数组创建一个最大堆用作数据源</li> <li>创建后，最大值会被存储在堆的第一个位置，我们将它替换为堆的最后一个值，将堆的大小减1</li> <li>重复将堆的根结点下移并重复步骤2直到堆的大小为1</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">heapSort</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> compareFn <span class="token operator">=</span> defaultCompare</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> heapSize <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token function">buildMaxHeap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> compareFn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 步骤1</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>heapSize <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">--</span>heapSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 步骤2</span>
        <span class="token function">heapify</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> heapSize<span class="token punctuation">,</span> compareFn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 步骤3 </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">buildMaxHeap</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> compareFn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">heapify</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> i<span class="token punctuation">,</span> array<span class="token punctuation">.</span>length<span class="token punctuation">,</span> compareFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/book/code/you_dont_know_javascript_3.html" class="prev">
        你不知道的JavaScript(下)
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.52282d9c.js" defer></script><script src="/assets/js/2.b2576fa9.js" defer></script><script src="/assets/js/20.4eab5b4b.js" defer></script>
  </body>
</html>
