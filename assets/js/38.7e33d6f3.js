(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{290:function(t,a,s){"use strict";s.r(a);var n=s(28),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"css-层叠规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-层叠规则"}},[t._v("#")]),t._v(" CSS --- 层叠规则")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN Stacking context"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"css的层叠上下文和层叠水平"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css的层叠上下文和层叠水平"}},[t._v("#")]),t._v(" CSS的层叠上下文和层叠水平")]),t._v(" "),s("h3",{attrs:{id:"层叠上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#层叠上下文"}},[t._v("#")]),t._v(" 层叠上下文")]),t._v(" "),s("p",[t._v("层叠上下文（stacking contenxt），是HTML中一个三维概念。如果一个元素含有层叠上下文，我们可以理解为这个元素在z轴上就“高人一等”")]),t._v(" "),s("h3",{attrs:{id:"层叠水平"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#层叠水平"}},[t._v("#")]),t._v(" 层叠水平")]),t._v(" "),s("p",[t._v("层叠水平（stacking level），决定了同一个层叠上下文中元素在z轴的显示顺序")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("需要注意的是，层叠水平和z-index并不是一回事")])]),t._v(" "),s("h2",{attrs:{id:"如何产生层叠上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何产生层叠上下文"}},[t._v("#")]),t._v(" 如何产生层叠上下文")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("天生派")]),t._v("：页面根元素具有层叠上下文，称为根层叠上下文")]),t._v(" "),s("li",[s("strong",[t._v("正统派")]),t._v("：\n"),s("ol",[s("li",[t._v("元素 position 为 absolute 或 relative，并且z-index 不为 auto")]),t._v(" "),s("li",[t._v("元素 position 为 fixed 或 sticky(sticky for all mobile browsers, but not older desktop)")])])]),t._v(" "),s("li",[s("strong",[t._v("扩招派")]),t._v("：一些CSS3属性\n"),s("ol",[s("li",[t._v("元素为 flex 布局（父元素 display:flex | inline-flex），同时 z-index 值不是 auto")]),t._v(" "),s("li",[t._v("元素的 opacity 值不是 1")]),t._v(" "),s("li",[t._v("元素的 transform 不为 none")]),t._v(" "),s("li",[t._v("元素的 mix-blend-mode 值不是 normal")]),t._v(" "),s("li",[t._v("元素的 filter 不是 none")]),t._v(" "),s("li",[t._v("元素的 isolation 值是 isolate")]),t._v(" "),s("li",[t._v("元素的 will-change 属性值为上面 2~6 的任意一个")]),t._v(" "),s("li",[t._v("元素的 -webkit-overflow-scrolling 设置为 touch")])])])]),t._v(" "),s("h2",{attrs:{id:"理解层叠顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#理解层叠顺序"}},[t._v("#")]),t._v(" 理解层叠顺序")]),t._v(" "),s("p",[t._v("层叠顺序（stacking order），表述元素发生层叠时有特定的垂直显示顺序\n"),s("img",{attrs:{src:"/css/stack-order.jpg",alt:""}})]),t._v(" "),s("ol",[s("li",[t._v("如果层叠上下文元素不依赖z-index数值，则其层叠顺序是z-index: auto")]),t._v(" "),s("li",[t._v("如果层叠上下文元素依赖z-index数值，则其层叠顺序由z-index值决定")])]),t._v(" "),s("h2",{attrs:{id:"层叠规则与特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#层叠规则与特性"}},[t._v("#")]),t._v(" 层叠规则与特性")]),t._v(" "),s("h3",{attrs:{id:"规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#规则"}},[t._v("#")]),t._v(" 规则")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("谁大谁上")]),t._v("：当具有明显层叠水平的时候，在同一层叠上下文领域，层叠水平值大的那一个覆盖小的那一个")]),t._v(" "),s("li",[s("strong",[t._v("后来居上")]),t._v("：当层叠水平一致、层叠顺序相同的时候，在DOM流中处于后面的覆盖前面元素")])]),t._v(" "),s("h3",{attrs:{id:"特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ol",[s("li",[t._v("层叠上下文的层叠水平比普通元素高")]),t._v(" "),s("li",[s("strong",[t._v("层叠上下文可以嵌套，内部层叠上下文及其所有子元素均受制于外部的层叠上下文")])]),t._v(" "),s("li",[t._v("每个层叠上下文和兄弟元素独立")]),t._v(" "),s("li",[t._v("每个层叠上下文是自成体系的，当元素发生层叠的时候，整个元素被认为是在父层叠上下文的层叠顺序中")])]),t._v(" "),s("h2",{attrs:{id:"一些demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些demo"}},[t._v("#")]),t._v(" 一些demo")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context#Example",target:"_blank",rel:"noopener noreferrer"}},[t._v("代码地址"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("    \n")])])]),s("p",[s("img",{attrs:{src:"/css/stacking-demo-1.jpg",alt:""}})]),t._v(" "),s("ol",[s("li",[t._v("DIV #4 is rendered under DIV #1 because DIV #1's z-index (5) is valid within the stacking context of the root element, while DIV #4's z-index (6) is valid within the stacking context of DIV #3. So, DIV #4 is under DIV #1, because DIV #4 belongs to DIV #3, which has a lower z-index value.")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.im/post/5b876f86518825431079ddd6#heading-8",target:"_blank",rel:"noopener noreferrer"}},[t._v("博文参考"),s("OutboundLink")],1),t._v("，"),s("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/",target:"_blank",rel:"noopener noreferrer"}},[t._v("博文参考"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);