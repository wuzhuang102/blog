# Proxy

Proxy 对象用于创建一个对象额代理，从而实现基本操作的拦截和定义（属性查找、赋值、枚举、函数调用）

## 1. 语法

```js
const p = new Proxy(target, handler);
```

- **target**：代理的对象，可以是任何类型的对象，包括原生数组、函数，甚至另外一个代理
- **handler**：一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理的行为

## 2. handler 对象的方

| handler 方法             | 内容                                                                                              |
| :----------------------- | :------------------------------------------------------------------------------------------------ |
| getPrototypeOf           | Object.getPrototypeOf 方法的捕捉器                                                                |
| setProptotypeOf          | Object.setProptotypeOf 方法的捕捉器                                                               |
| isExtensible             | Object.isExtensible 方法的捕捉器                                                                  |
| preventExtensions        | Object.preventExtensions 方法的捕捉器                                                             |
| getOwnPropertyDescriptor | Object.getOwnPropertyDescriptor 方法的捕捉器                                                      |
| defineProperty           | Object.defineProperty 方法的捕捉器                                                                |
| has                      | [in](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/in) 操作符捕捉器 |
| get                      | 属性读取的捕捉器                                                                                  |
| set                      | 属性设置操作的捕捉器                                                                              |
| deleteProperty           | delete 操作符的捕捉器                                                                             |
| ownKeys                  | Object.getOwnPropertyNames 方法和 Object.getOwnPropertySymbols 方法的捕捉器                       |
| apply                    | 函数调用操作的捕捉器                                                                              |
| construct                | new 操作符的捕捉器                                                                                |

## 3. 示例

### 3.1 set 验证

```js
const person = new Proxy(
  {},
  {
    set: (obj, prop, value) => {
      if (prop === 'age') {
        if (!Number.isInteger(value)) throw new TypeError('The age is not an integer');
        if (value > 200) throw new RangeError('the age seems invalid');
      }
      obj[prop] = value;
      return true;
    },
  }
);

person.age = -1.1;
person.age = 300;
```
### 3.2 扩展构造函数
### 3.3 操作 DOM 节点


